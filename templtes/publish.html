<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publish Report - CivicEye</title>
    <link rel="stylesheet" href="..\static\publish.css"> 
</head>
<body>

    <div class="sidebar">
        <div class="logo">
            <span class="material-symbols-outlined" style="font-size: 32px; color: #0095f6;">visibility</span>
            <span>CivicEye</span>
        </div>
        
        <a href="index.html" class="sidebar-anchor">
            <div class="nav-link">
                <span class="material-symbols-outlined">newspaper</span>
                Feed
            </div>
        </a>

        <a href="" class="sidebar-anchor">
            <div class="nav-link">
                <span class="material-symbols-outlined">map</span>
                Live Map
            </div>
        </a>

        <a href="" class="sidebar-anchor">
            <div class="nav-link">
                <span class="material-symbols-outlined">trending_up</span>
                Top Issues
            </div>
        </a>
        
        <a href="myreports.html" class="sidebar-anchor">
            <div class="nav-link active">
                <span class="material-symbols-outlined">campaign</span>
                My Reports
            </div>
        </a>
        
        <a href="" class="sidebar-anchor">
            <div class="nav-link">
                <span class="material-symbols-outlined">bookmark</span>
                Saved
            </div>
        </a>

        <div class="sidebar-footer">
            <div class="account-menu">
                <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=100" class="account-avatar" alt="My Profile">
                <div class="account-info">
                    <div class="account-name">Rahul Kumar</div>
                    <div class="account-handle">@rahul_k99</div>
                </div>
                <span class="material-symbols-outlined menu-dots">more_horiz</span>
            </div>
        </div>
    </div>

    <div class="main-container form-page">
        <div class="form-wrapper">
            
            <div class="page-header">
                <h1>Report a Civic Issue</h1>
                <p>Help us identify and solve local problems by providing accurate details.</p>
            </div>

            <form>
                <div class="form-group">
                    <label class="form-label">Evidence / Photo (Required)</label>
                    <div class="upload-box" onclick="document.getElementById('file-input').click()">
                        <input type="file" id="file-input" accept="image/*">
                        
                        <div id="upload-placeholder">
                            <span class="material-symbols-outlined upload-icon">add_photo_alternate</span>
                            <p class="upload-text"><strong>Click to upload</strong> or drag and drop</p>
                            <p class="upload-text" style="font-size: 12px; margin-top: 5px;">SVG, PNG, JPG or GIF (MAX. 5MB)</p>
                        </div>

                        <img id="image-preview" alt="Preview">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Headline</label>
                    <input type="text" class="text-input" placeholder="E.g., Broken Streetlight on Main Road" required>
                </div>

                <div class="input-row">
                    <div class="form-group">
                        <label class="form-label">Location / Address</label>
                        <input type="text" class="text-input" placeholder="E.g., Sector 14, Gurgaon" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Issue Category</label>
                        <select class="select-input">
                            <option value="">Select Category</option>
                            <option>Roads & Potholes</option>
                            <option>Garbage & Sanitation</option>
                            <option>Street Lighting</option>
                            <option>Water Supply</option>
                            <option>Traffic & Parking</option>
                            <option>Noise Pollution</option>
                            <option>Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Detailed Description</label>
                    <textarea class="textarea-input" rows="8" placeholder="Describe the issue in detail. How long has it been there? Is it causing immediate danger?" required></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-cancel">Cancel</button>
                    <button type="button" class="btn btn-submit">Submit Report</button>
                </div>

            </form>
        </div>
    </div>

    <script>
        const fileInput = document.getElementById('file-input');
        const preview = document.getElementById('image-preview');
        const placeholder = document.getElementById('upload-placeholder');

        fileInput.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    placeholder.style.display = 'none';
                }
                reader.readAsDataURL(file);
            } else {
                preview.style.display = 'none';
                placeholder.style.display = 'block';
            }
        });
    </script>

</body>
</html>
